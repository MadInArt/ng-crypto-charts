import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';
import { CryptoHistoryItem } from 'src/app/shared/models/cryptos';


@Component({
  selector: 'app-history-line',
  templateUrl: './history-line.component.html',
  styleUrls: ['./history-line.component.scss']
})





export class HistoryLineComponent {
  
  dataSource1 : any = [];
  dataSource2 : any = [];
  dataSource: any = []
  dataTest = []
  // dataSource1.title = "Stock1 Name (Symbol)";
  // dataSource2.title = "Stock2 Name (Symbol)";

  @Input() cryptosHistoryDataArray: Array<CryptoHistoryItem[]>;
  
  constructor() {
    let data: any = [
      {
        "open": "0.0708000000000000",
        "high": "0.0710450000000000",
        "low": "0.0706434000000000",
        "close": "0.0708350100000000",
        "volume": "1818.1433015300000000",
        "period": 1530720000000
      },
      {
        "open": "0.0708316700000000",
        "high": "0.0715192000000000",
        "low": "0.0706544100000000",
        "close": "0.0712472600000000",
        "volume": "1649.2534471200000000",
        "period": 1530748800000
      },
      {
        "open": "0.0712452600000000",
        "high": "0.0717550000000000",
        "low": "0.0709818600000000",
        "close": "0.0713202600000000",
        "volume": "1727.3015548300000000",
        "period": 1530777600000
      },
      {
        "open": "0.0713400000000000",
        "high": "0.0716440200000000",
        "low": "0.0709436400000000",
        "close": "0.0716373500000000",
        "volume": "832.2377254200000000",
        "period": 1530806400000
      },
      {
        "open": "0.0716852400000000",
        "high": "0.0717850000000000",
        "low": "0.0700000000000000",
        "close": "0.0703750000000000",
        "volume": "2791.1439402600000000",
        "period": 1530835200000
      },
      {
        "open": "0.0703750000000000",
        "high": "0.0714796800000000",
        "low": "0.0702492000000000",
        "close": "0.0712949900000000",
        "volume": "1878.1581776500000000",
        "period": 1530864000000
      },
      {
        "open": "0.0711771600000000",
        "high": "0.0717000000000000",
        "low": "0.0708528700000000",
        "close": "0.0711200000000000",
        "volume": "1368.7725389300000000",
        "period": 1530892800000
      },
      {
        "open": "0.0711300000000000",
        "high": "0.0714714300000000",
        "low": "0.0707802600000000",
        "close": "0.0712365000000000",
        "volume": "865.5540202300000000",
        "period": 1530921600000
      },
      {
        "open": "0.0712364900000000",
        "high": "0.0716181400000000",
        "low": "0.0708000000000000",
        "close": "0.0711000100000000",
        "volume": "1228.4198248600000000",
        "period": 1530950400000
      },
      {
        "open": "0.0711894700000000",
        "high": "0.0718431700000000",
        "low": "0.0702000000000000",
        "close": "0.0718431700000000",
        "volume": "2143.3020698900000000",
        "period": 1530979200000
      },
      {
        "open": "0.0719900000000000",
        "high": "0.0731662700000000",
        "low": "0.0717050100000000",
        "close": "0.0719200000000000",
        "volume": "1663.2797136100000000",
        "period": 1531008000000
      },
      {
        "open": "0.0719250000000000",
        "high": "0.0729799900000000",
        "low": "0.0718556400000000",
        "close": "0.0727000100000000",
        "volume": "1462.4665687900000000",
        "period": 1531036800000
      },
      {
        "open": "0.0727000100000000",
        "high": "0.0729700000000000",
        "low": "0.0721251500000000",
        "close": "0.0724850100000000",
        "volume": "1809.6590769100000000",
        "period": 1531065600000
      },
      {
        "open": "0.0725550000000000",
        "high": "0.0726932200000000",
        "low": "0.0715000100000000",
        "close": "0.0719300000000000",
        "volume": "1489.4695856800000000",
        "period": 1531094400000
      },
      {
        "open": "0.0719350000000000",
        "high": "0.0720063800000000",
        "low": "0.0712516100000000",
        "close": "0.0714000000000000",
        "volume": "1305.2166636100000000",
        "period": 1531123200000
      },
      {
        "open": "0.0713949900000000",
        "high": "0.0714000000000000",
        "low": "0.0706850100000000",
        "close": "0.0707060000000000",
        "volume": "1757.5901286100000000",
        "period": 1531152000000
      },
      {
        "open": "0.0706850100000000",
        "high": "0.0709288900000000",
        "low": "0.0690000000000000",
        "close": "0.0692376500000000",
        "volume": "4134.9898355400000000",
        "period": 1531180800000
      },
      {
        "open": "0.0692004800000000",
        "high": "0.0695000000000000",
        "low": "0.0674380600000000",
        "close": "0.0690250000000000",
        "volume": "4217.5220123100000000",
        "period": 1531209600000
      },
      {
        "open": "0.0690250000000000",
        "high": "0.0692500000000000",
        "low": "0.0681924800000000",
        "close": "0.0686250000000000",
        "volume": "1564.4274571600000000",
        "period": 1531238400000
      },
      {
        "open": "0.0686302400000000",
        "high": "0.0689979800000000",
        "low": "0.0676004000000000",
        "close": "0.0687697400000000",
        "volume": "1897.3264469400000000",
        "period": 1531267200000
      },
      {
        "open": "0.0686358400000000",
        "high": "0.0699000000000000",
        "low": "0.0685351500000000",
        "close": "0.0691300000000000",
        "volume": "3554.7047582000000000",
        "period": 1531296000000
      },
      {
        "open": "0.0690850000000000",
        "high": "0.0699119000000000",
        "low": "0.0686500200000000",
        "close": "0.0697500000000000",
        "volume": "1254.6803122500000000",
        "period": 1531324800000
      },
      {
        "open": "0.0696900000000000",
        "high": "0.0701733300000000",
        "low": "0.0691920000000000",
        "close": "0.0698973300000000",
        "volume": "1560.8181853000000000",
        "period": 1531353600000
      },
      {
        "open": "0.0698973300000000",
        "high": "0.0702000000000000",
        "low": "0.0691950900000000",
        "close": "0.0697030000000000",
        "volume": "4291.7702089600000000",
        "period": 1531382400000
      },
      {
        "open": "0.0697029900000000",
        "high": "0.0701000000000000",
        "low": "0.0686529500000000",
        "close": "0.0688606500000000",
        "volume": "1700.7687711700000000",
        "period": 1531411200000
      },
      {
        "open": "0.0688604300000000",
        "high": "0.0700562200000000",
        "low": "0.0688604300000000",
        "close": "0.0698850000000000",
        "volume": "4853.9876114100000000",
        "period": 1531440000000
      },
      {
        "open": "0.0698652400000000",
        "high": "0.0704701500000000",
        "low": "0.0697304100000000",
        "close": "0.0700050000000000",
        "volume": "1717.8862759500000000",
        "period": 1531468800000
      },
      {
        "open": "0.0699774400000000",
        "high": "0.0700500000000000",
        "low": "0.0693500000000000",
        "close": "0.0694784500000000",
        "volume": "1700.4209570200000000",
        "period": 1531497600000
      },
      {
        "open": "0.0695054900000000",
        "high": "0.0697200000000000",
        "low": "0.0692284000000000",
        "close": "0.0694482600000000",
        "volume": "819.9396176500000000",
        "period": 1531526400000
      },
      {
        "open": "0.0694512800000000",
        "high": "0.0699999800000000",
        "low": "0.0693163000000000",
        "close": "0.0697800000000000",
        "volume": "513.2843779900000000",
        "period": 1531555200000
      },
      {
        "open": "0.0697800000000000",
        "high": "0.0701231000000000",
        "low": "0.0690950200000000",
        "close": "0.0693935200000000",
        "volume": "1018.4489863700000000",
        "period": 1531584000000
      },
      {
        "open": "0.0692600000000000",
        "high": "0.0696019800000000",
        "low": "0.0690873800000000",
        "close": "0.0694412600000000",
        "volume": "427.9522534700000000",
        "period": 1531612800000
      },
      {
        "open": "0.0694450000000000",
        "high": "0.0709350000000000",
        "low": "0.0694400000000000",
        "close": "0.0709350000000000",
        "volume": "1189.5625595600000000",
        "period": 1531641600000
      },
      {
        "open": "0.0709350000000000",
        "high": "0.0711370000000000",
        "low": "0.0704796500000000",
        "close": "0.0706550000000000",
        "volume": "640.3759941800000000",
        "period": 1531670400000
      }
    ];
    let dataSource1: any = [
      { time: new Date(2013, 1, 1), open: 268.93, high: 268.93, low: 262.80, close: 265.00, volume: 6118146 },
      { time: new Date(2013, 1, 4), open: 262.78, high: 264.68, low: 259.07, close: 259.98, volume: 3723793 },
      { time: new Date(2013, 1, 5), open: 262.00, high: 268.03, low: 261.46, close: 266.89, volume: 4013780 },
      { time: new Date(2013, 1, 6), open: 265.16, high: 266.89, low: 261.11, close: 262.22, volume: 2772204 },
      { time: new Date(2013, 1, 7), open: 264.10, high: 264.10, low: 255.11, close: 260.23, volume: 3977065 },
  ];
  let dataSource2: any = [
      { time: new Date(2013, 1, 1), open: 263.20, high: 263.25, low: 256.60, close: 257.21, volume: 3407457 },
      { time: new Date(2013, 1, 4), open: 259.19, high: 260.16, low: 257.00, close: 258.70, volume: 2944730 },
      { time: new Date(2013, 1, 5), open: 261.53, high: 269.96, low: 260.30, close: 269.47, volume: 5295786 },
      { time: new Date(2013, 1, 6), open: 267.37, high: 270.65, low: 265.40, close: 269.24, volume: 3464080 },
      { time: new Date(2013, 1, 7), open: 267.63, high: 268.92, low: 263.11, close: 265.09, volume: 3981233 }
  ];
  dataSource1.title = "Stock1 Name (Symbol)";
  dataSource2.title = "Stock2 Name (Symbol)";
  data.title = "test"
    this.dataTest = [ data]
   }
 

 

  addDataSource(data) {
    data.forEach(element => {
      const newArray = element.data
      newArray.title = element.key;
      // console.log(newArray);
      
      this.dataSource.push(element)
    });
  }
}